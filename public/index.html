<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>

	<title>Svelte app</title>

	<link rel='icon' type='image/png' href='/favicon.png'>
	<link rel='stylesheet' href='/global.css'>
	<link rel='stylesheet' href='/build/bundle.css'>

	<script defer src='/build/bundle.js'></script>
	<style>
	</style>
</head>

<body>
	<h1>Julien</h1>
	<inform-el error-disable-submit>
		<inform-field>
			<input type="email" name="email" required />
		</inform-field>
		<inform-field>
				<input type="password" name="password" required />
		</inform-field>
		<button type="submit">Login</button>
	</inform-el>

	<script>
		document.querySelector('inform-el').addEventListener('submit', ({detail})=>{
			console.log('submit', detail);
		});

		document.querySelector('inform-el').addEventListener('mounted', (e) => {
				console.log('mounted', e);
			})
	// document.querySelector('inform-el').julien();

	// console.log(document.querySelector('inform-el').toto, document.querySelector('inform-el'))
		document.querySelector('inform-el').validationHandler = ({values})=>{
			console.log({values})
			if(values.email.indexOf('toto')<0){
				return {email:'Must contain "toto"!'};
			}
		};

	// customElements.whenDefined('inform-el').then(()=>{
	// 		document.querySelector('inform-el').setValidationHandler(({ values }) => {
	// 		console.log(values);
	// 	})
	// })
		</script>
</body>
</html>
